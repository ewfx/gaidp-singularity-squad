<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Upload Regulatory PDF | RuleSense</title>
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			body {
				background: #f8f9fa;
				font-family: "Segoe UI", sans-serif;
			}
			.drop-zone {
				border: 2px dashed #4b7be5;
				border-radius: 15px;
				padding: 60px;
				background: white;
				text-align: center;
				cursor: pointer;
				transition: background 0.2s ease;
			}
			.drop-zone.dragover {
				background-color: #e7f1ff;
			}
			input[type="file"] {
				display: none;
			}
			.upload-container {
				max-width: 700px;
				margin: auto;
				margin-top: 80px;
				box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
				padding: 40px;
				background: white;
				border-radius: 20px;
			}
		</style>
	</head>
	<body>
		<div class="upload-container">
			<h2 class="text-center mb-4">
				ðŸ“¥ Upload Your Regulatory PDF
			</h2>
			<form
				action="/upload"
				method="post"
				enctype="multipart/form-data"
				id="uploadForm"
			>
				<label for="fileInput" class="drop-zone" id="dropZone">
					<p>
						Drag & Drop your PDF here or click to browse
					</p>
					<p class="text-muted small">
						(Only PDF files accepted)
					</p>
				</label>
				<input
					type="file"
					name="pdf"
					id="fileInput"
					accept=".pdf"
					required
				/>
				<button
					type="submit"
					class="btn btn-success btn-lg mt-4 w-100"
				>
					Extract Rules & Profile Dataset
				</button>
			</form>
		</div>

		<script>
			const dropZone = document.getElementById("dropZone");
			const fileInput = document.getElementById("fileInput");

			dropZone.addEventListener("click", () => fileInput.click());

			dropZone.addEventListener("dragover", (e) => {
				e.preventDefault();
				dropZone.classList.add("dragover");
			});

			dropZone.addEventListener("dragleave", () => {
				dropZone.classList.remove("dragover");
			});

			dropZone.addEventListener("drop", (e) => {
				e.preventDefault();
				dropZone.classList.remove("dragover");
				const files = e.dataTransfer.files;
				if (
					files.length > 0 &&
					files[0].type === "application/pdf"
				) {
					fileInput.files = files;
				} else {
					alert("Only PDF files are allowed.");
				}
			});
		</script>
	</body>
</html>
